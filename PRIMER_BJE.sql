CREATE DATABASE BJE;

USE BJE;

CREATE TABLE ROL(
ID INT NOT NULL auto_increment,
NOMBRE VARCHAR(10) NOT NULL,
primary key (ID)
);

INSERT INTO ROL(NOMBRE) VALUES ('TRABAJADOR'), ('MANAGER'), ('GERENTE');
INSERT INTO ROL(NOMBRE) VALUES('ADMIN');


CREATE TABLE PLANTILLA(
ID INT NOT NULL auto_increment,
primary key (ID)
);

INSERT INTO PLANTILLA VALUES();


CREATE TABLE LOCALIZACION(
ID INT NOT NULL auto_increment,
primary key (ID)

);
ALTER TABLE LOCALIZACION
ADD COLUMN NOMBRE VARCHAR(50) AFTER ID;

INSERT INTO LOCALIZACION(NOMBRE) VALUES ('SANTA PONSA'), ('MAGALUF'), ('PALMANOVA');

CREATE TABLE USUARIO (
ID INT NOT NULL auto_increment,
CORREO VARCHAR(50) NOT NULL,
NOMBRE VARCHAR(20),
APELLIDO VARCHAR(20),
PASS varchar(20) NOT NULL,
ROL INT,
OBSERVACIONES VARCHAR(300),
PLANTILLA INT,

primary key (ID),
foreign key (ROL) references ROL(ID),
FOREIGN KEY (PLANTILLA) REFERENCES PLANTILLA(ID)

);

INSERT INTO USUARIO(CORREO, NOMBRE, APELLIDO, PASS, ROL, OBSERVACIONES, PLANTILLA)
 VALUES ('ivanjl4444@hotmail.com', 'IVAN', 'JIMENEZ', '123', 1, 'ES UN FIGURA BEST COCINERO', 2), 
		('epygma@hotmail.com', 'ANDREW', 'BYRNE', '123', 2, 'ES IRLANDES', 2);
        
INSERT INTO USUARIO(CORREO, NOMBRE, APELLIDO, PASS, ROL, PLANTILLA)
 VALUES ('miguel@hotmail.com', 'MIGUEL', 'MIGUEL', '123', 3, 2);


CREATE TABLE RESTAURANTE(
ID INT NOT NULL auto_increment,
GERENTE INT NOT NULL,
PLANTILLA INT NOT NULL,
LOCALIZACION INT NOT NULL,

primary key (ID),
FOREIGN KEY (PLANTILLA) REFERENCES PLANTILLA(ID),
foreign key (GERENTE) REFERENCES USUARIO(ID),
FOREIGN KEY (LOCALIZACION) REFERENCES LOCALIZACION(ID)

);

INSERT INTO RESTAURANTE(GERENTE, PLANTILLA, LOCALIZACION) VALUES(3, 2, 1);


CREATE TABLE DIA(
ID INT NOT NULL auto_increment,
FECHA DATE NOT NULL,
ENTRADA_1 TIME,
SALIDA_1 TIME,
ENTRADA_2 TIME,
SALIDA_2 TIME,
USUARIO INT NOT NULL,
primary key (ID),
foreign key (USUARIO) REFERENCES USUARIO(ID)

);

INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-01', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-02', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
INSERT INTO DIA (FECHA, USUARIO)
	VALUES( '2018-03-03', 1 );
    
    INSERT INTO DIA (FECHA,USUARIO)
	VALUES( '2018-03-04', 1 );


INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-05', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-06', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-07', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-08', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-09', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, USUARIO)
	VALUES( '2018-03-10', 1 );
    
    INSERT INTO DIA (FECHA,USUARIO)
	VALUES( '2018-03-11', 1 );


INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-12', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-13', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-14', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-15', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-16', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, USUARIO)
	VALUES( '2018-03-17', 1 );
    
    INSERT INTO DIA (FECHA,USUARIO)
	VALUES( '2018-03-18', 1 );


INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-19', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-20', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-21', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-22', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-23', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, USUARIO)
	VALUES( '2018-03-24', 1 );
    
    INSERT INTO DIA (FECHA,USUARIO)
	VALUES( '2018-03-25', 1 );


INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-26', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-27', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-28', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-29', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );
    
    INSERT INTO DIA (FECHA, ENTRADA_1, SALIDA_1, ENTRADA_2, SALIDA_2, USUARIO)
	VALUES( '2018-03-30', '08:00:00', '12:00:00', '12:30:00', '16:00:00', 1 );

INSERT INTO DIA (FECHA, USUARIO)
	VALUES( '2018-03-31', 1 );


CREATE TABLE SEMANA(
ID INT NOT NULL auto_increment,
LUNES INT ,
MARTES INT ,
MIERCOLES INT ,
JUEVES INT ,
VIERNES INT ,
SABADO INT ,
DOMINGO INT ,
 
primary key (ID),
foreign key (LUNES) REFERENCES DIA(ID),
foreign key (MARTES) REFERENCES DIA(ID),
foreign key (MIERCOLES) REFERENCES DIA(ID),
foreign key (JUEVES) REFERENCES DIA(ID),
foreign key (VIERNES) REFERENCES DIA(ID),
foreign key (SABADO) REFERENCES DIA(ID),
foreign key (DOMINGO) REFERENCES DIA(ID)

);

INSERT INTO SEMANA(JUEVES, VIERNES, SABADO, DOMINGO)

VALUES(1, 2, 3, 4);

INSERT INTO SEMANA(LUNES, MARTES, MIERCOLES, JUEVES, VIERNES, SABADO, DOMINGO)

VALUES(5, 6, 7, 8, 9, 10, 11);

INSERT INTO SEMANA(LUNES, MARTES, MIERCOLES, JUEVES, VIERNES, SABADO, DOMINGO)

VALUES(12, 13, 14, 15, 16, 17, 18);

INSERT INTO SEMANA(LUNES, MARTES, MIERCOLES, JUEVES, VIERNES, SABADO, DOMINGO)

VALUES(19, 20, 21, 22, 23, 24, 25);

INSERT INTO SEMANA(LUNES, MARTES, MIERCOLES, JUEVES, VIERNES, SABADO)

VALUES(26, 27, 28, 29, 30, 31);


CREATE TABLE HORARIO(
ID INT NOT NULL auto_increment,
SEMANA_1 INT NOT NULL,
SEMANA_2 INT NOT NULL,
SEMANA_3 INT NOT NULL,
SEMANA_4 INT NOT NULL,
SEMANA_5 INT,
primary key (ID)

);

INSERT INTO HORARIO(SEMANA_1, SEMANA_2, SEMANA_3, SEMANA_4, SEMANA_5)
VALUES (1, 2, 3, 4, 5);
